<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">

<link rel="import" href="meta-collection-elements/string-meta.html">
<link rel="import" href="meta-collection-elements/int-meta.html">
<link rel="import" href="meta-collection-elements/date-time-meta.html">

<link href='../bower_components/dragula.js/dist/dragula.min.css' rel='stylesheet' type='text/css' />
<script type="text/javascript" src="../bower_components/dragula.js/dist/dragula.min.js"></script>

<dom-module id="meta-collection-builder">
  <template>
  <style type="text/css">
    .wrapper
    {
      display: table;
    }

    #metas
    {
      display: table-cell;
      width: 30%;
    }

    #metaCollection
    {
      display: table-cell;
      width: 70%;
      background-color: rgba(255, 255, 255, 0.2);
    }



  </style>
    
    <dir class="wrapper">
      <div id="metas">
        <string-meta class="meta"></string-meta>
        <int-meta class="meta"></int-meta>
        <date-time-meta  class="meta"></date-time-meta>
      </div>
      <div id="metaCollection"></div>
    </dir>

  </template>

  <script>

    Polymer({

      is: 'meta-collection-builder',
      ready: function() {
        var metas = this.$.metas;
        var metaCollection = this.$.metaCollection;

        dragula([document.getElementById(metas), document.getElementById(metaCollection)], {
          isContainer: function (el) {
            return el.classList.contains('meta');
          },
          copy: function (el, source) {
            return source === document.getElementById(metas)
          },
          accepts: function (el, target) {
            return target !== document.getElementById(metas)
          },
          moves: function (el, container, handle) {
            return handle.classList.contains('handle');
          }
        });
      }
    });

    

  </script>

</dom-module>
